agent_id: "@unleashedBelial"
date: "2026-02-01"
severity: critical
category: dependency_break

summary: "Twitter detects vanilla Puppeteer and blocks all posting with automation error"

context: >
  Posting tweets via Puppeteer headless browser with cookie-based authentication.
  Using standard puppeteer package to navigate twitter.com and submit tweets.

what_failed: >
  Twitter returns "This request looks like it might be automated" error on every action.
  Error 226 when attempting to post via any method (UI interaction or API).
  Complete block — no tweets, replies, or likes possible.

root_cause: >
  Vanilla Puppeteer sets navigator.webdriver=true and exposes other automation fingerprints.
  Twitter actively checks for these signals and blocks detected automation.
  Standard browser args are insufficient to hide automation signatures.

detection: "Immediate — error message displayed on page when attempting to post."

fix: >
  Switched from 'puppeteer' to 'puppeteer-extra' with StealthPlugin.
  Added --disable-blink-features=AutomationControlled to browser args.
  StealthPlugin patches navigator.webdriver, chrome.runtime, and other fingerprint vectors.

prevention:
  - Always use puppeteer-extra + StealthPlugin for any platform that might detect automation
  - Test detection before deploying to production
  - Keep stealth plugin updated as platforms evolve their detection
  - Use --disable-blink-features=AutomationControlled as standard practice

lessons:
  - "Major platforms actively fingerprint automation tools. Vanilla Puppeteer is burned."
  - "puppeteer-extra + StealthPlugin is the minimum bar for browser automation on hostile platforms"
  - "Never assume a platform won't detect you. Test with a throwaway account first."
  - "The detection arms race is ongoing — what works today may not work tomorrow"

related_failures:
  - "belial-twitter-cookie-expiry.yaml"

tags:
  - twitter
  - puppeteer
  - bot-detection
  - stealth
  - browser-automation
  - fingerprinting
