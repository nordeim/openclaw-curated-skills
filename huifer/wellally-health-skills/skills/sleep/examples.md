# sleep 技能示例

## 一、记录睡眠

### 示例 1: 快速记录
```
用户: /sleep record 23:00 07:00 good

保存:
{
  "sleep_times": {
    "bedtime": "23:00",
    "sleep_onset_time": "23:15",
    "wake_time": "07:00",
    "out_of_bed_time": "07:00"
  },
  "sleep_quality": {
    "subjective_quality": "good"
  }
}
```

### 示例 2: 详细记录
```
用户: /sleep record bedtime 23:00 onset 23:30 wake 07:00 outbed 07:15

保存:
{
  "sleep_times": {
    "bedtime": "23:00",
    "sleep_onset_time": "23:30",
    "wake_time": "07:00",
    "out_of_bed_time": "07:15"
  }
}
```

### 示例 3: 记录觉醒
```
用户: /sleep record 23:00 07:00 fair 2 awakenings

保存:
{
  "awakenings": {
    "count": 2,
    "causes": ["bathroom", "noise"]
  }
}
```

### 示例 4: 记录影响因素
```
用户: /sleep record 23:00 07:00 good exercise evening no_caffeine

保存:
{
  "factors": {
    "exercise": true,
    "caffeine_after_2pm": false
  }
}
```

## 二、查看历史

### 示例 5: 查看本周睡眠
```
用户: /sleep history week

输出:
📋 本周睡眠记录（6月14日 - 6月20日）

6月14日 - 睡7.5小时，质量好
6月15日 - 睡7.0小时，质量一般
6月16日 - 睡8.0小时，质量很好
6月17日 - 睡6.5小时，质量差
6月18日 - 睡7.5小时，质量好
6月19日 - 睡7.0小时，质量好
6月20日 - 睡7.0小时，质量好

本周汇总：
━━━━━━━━━━━━━━━━━━━━━━━━━━
平均睡眠时长：7.2小时
平均入睡时间：23:15
平均起床时间：07:05
平均睡眠效率：85%
```

## 三、睡眠统计

### 示例 6: 综合统计
```
用户: /sleep stats week

输出:
📊 本周睡眠统计

睡眠时长统计：
━━━━━━━━━━━━━━━━━━━━━━━━━━
平均：7.2小时/天
最长：8.0小时
最短：6.5小时
完成目标：96% ✅

睡眠效率：
━━━━━━━━━━━━━━━━━━━━━━━━━━
平均：85%
目标：>85% ✅

作息规律性：
━━━━━━━━━━━━━━━━━━━━━━━━━━
上床时间：23:10 ± 15分钟 ✅
起床时间：07:00 ± 10分钟 ✅

睡眠质量分布：
━━━━━━━━━━━━━━━━━━━━━━━━━━
优秀/很好：43%
一般：43%
差：14%
```

## 四、PSQI评估

### 示例 7: PSQI评估
```
用户: /sleep psqi score 8

保存:
{
  "total_score": 8,
  "interpretation": "fair"
}

输出:
PSQI评分：8分
━━━━━━━━━━━━━━━━━━━━━━━━━━
睡眠质量：一般

建议：
• 改善睡眠环境
• 建立规律作息
• 减少夜间觉醒
```

## 五、Epworth嗜睡量表

### 示例 8: Epworth评估
```
用户: /sleep epworth score 6

保存:
{
  "total_score": 6,
  "interpretation": "normal"
}

输出:
Epworth评分：6分
━━━━━━━━━━━━━━━━━━━━━━━━━━
结果：正常 ✅

说明：日间嗜睡程度在正常范围内
```

### 示例 9: Epworth异常
```
用户: /sleep epworth score 12

输出:
Epworth评分：12分
━━━━━━━━━━━━━━━━━━━━━━━━━━
结果：中度嗜睡 ⚠️

建议：咨询医生评估睡眠呼吸暂停风险
```

## 六、睡眠问题识别

### 示例 10: 失眠评估
```
用户: /sleep problem insomnia type mixed

保存:
{
  "insomnia": {
    "type": "mixed",
    "severity": "moderate"
  }
}

输出:
失眠类型：混合型
━━━━━━━━━━━━━━━━━━━━━━━━━━
既有入睡困难，也有睡眠维持困难

建议：
• 建立固定作息
• 睡前放松程序
• 限制白天小睡
• 考虑认知行为疗法（CBT-I）
```

### 示例 11: 呼吸暂停筛查
```
用户: /sleep apnea stop-bang

进行STOP-BANG问卷评估
```

## 七、睡眠卫生评估

### 示例 12: 睡眠卫生评估
```
用户: /sleep hygiene

输出:
📋 睡眠卫生评估

睡眠环境：
━━━━━━━━━━━━━━━━━━━━━━━━━━
温度：22℃ ✅
光线：昏暗 ✅
噪音：安静 ✅
床垫：良好 ✅
枕头：良好 ✅

睡眠习惯：
━━━━━━━━━━━━━━━━━━━━━━━━━━
睡前屏幕时间：60分钟 ⚠️
咖啡因截止：下午4点 ✅
运动时间：晚上 ⚠️
作息一致性：不一致 ⚠️

睡眠卫生评分：6/10
━━━━━━━━━━━━━━━━━━━━━━━━━━
建议改善：
• 睡前30分钟避免屏幕
• 将运动移至白天
• 建立固定作息时间
```

## 八、获取建议

### 示例 13: 获取所有建议
```
用户: /sleep recommendations

输出:
💡 睡眠改善建议

作息建议：
━━━━━━━━━━━━━━━━━━━━━━━━━━
• 固定起床时间（包括周末）
• 固定上床时间
• 限制午睡（<30分钟，下午3点前）
• 如需调整，每次提前15分钟

环境建议：
━━━━━━━━━━━━━━━━━━━━━━━━━━
• 优化温度（18-22℃）
• 使用遮光窗帘
• 使用白噪音机器
• 移除卧室时钟

生活方式：
━━━━━━━━━━━━━━━━━━━━━━━━━━
• 将运动移至早晨或下午
• 下午2点后停止咖啡因
• 睡前避免饮酒
• 睡前3小时避免大餐

睡前例行：
━━━━━━━━━━━━━━━━━━━━━━━━━━
• 提前1小时开始例行程序
• 睡前30分钟避免屏幕
• 调暗灯光
• 练习放松技巧
• 温水澡
```
