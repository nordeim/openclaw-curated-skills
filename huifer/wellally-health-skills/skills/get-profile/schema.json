{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://wellallyhealth.com/schemas/profile.json",
  "title": "UserProfile",
  "description": "Data structure definition for user basic medical parameters (for query)",
  "type": "object",
  "properties": {
    "created_at": {"type": "string", "format": "date"},
    "last_updated": {"type": "string", "format": "date"},
    "basic_info": {
      "type": "object",
      "properties": {
        "gender": {"type": "string", "enum": ["M", "F"]},
        "height": {"type": "number", "minimum": 50, "maximum": 250},
        "weight": {"type": "number", "minimum": 2, "maximum": 300},
        "birth_date": {"type": "string", "format": "date"}
      }
    },
    "calculated": {
      "type": "object",
      "properties": {
        "age": {"type": "integer"},
        "bmi": {"type": "number"},
        "bmi_status": {"type": "string", "enum": ["Underweight", "Normal", "Overweight", "Obese"]},
        "body_surface_area": {"type": "number"}
      }
    },
    "history": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "updated_at": {"type": "string"},
          "height": {"type": "number"},
          "weight": {"type": "number"}
        }
      }
    }
  }
}
