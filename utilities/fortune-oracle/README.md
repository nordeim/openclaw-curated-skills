# fortune-oracle

给 OpenClaw 使用的离线算命 Skill。

## 包含内容

- SKILL 说明：[SKILL.md]({baseDir}/SKILL.md)
- 确定性规则：[fortune_rules.md]({baseDir}/fortune_rules.md)
- 存档模板（字段/结构约定）：[user_chart_profile.md]({baseDir}/user_chart_profile.md)

## 特性

- 不联网：仅本地规则推演
- 支持星盘输入：可直接粘贴紫微斗数命盘文本进行预测
- 支持初次设置记忆：首次可自动建档保存星盘，后续无需重复粘贴
- 支持综合运势：幸运方位/颜色/数字/物品 + 宜忌
- 支持“强禁忌预警”：可输出“不要出门/不要用铁器”等事项，并给出到期时间与详细原因
- 支持单项查询：财运、桃花运、事业/学业运、人际运
- 支持“夜间推送次日运势”行为指令（宿主支持计划任务时可自动化）
- 解释风格详细，适合你给的“长解释拆解”风格

## 建议用法（给 OpenClaw 的自然语言）

- `用 fortune-oracle 算一下我今天的综合运势，我生日是 YYYY-MM-DD。`
- `今天财运怎么样？我的生日是 YYYY年MM月DD日。`
- `今天桃花运怎么样，给我可执行建议。`
- `从今天开始，每天晚上22:30推送我第二天运势。`
- `这是我的紫微命盘，请按星盘+日期给我今天财运和桃花运。`
- `把这份星盘设为我的默认档案，以后直接用它算每日运势。`
- `最近要不要出门？不要出门到什么时候？给我详细原因。`
- `最近能不能用铁器？如果不建议，用到什么时候恢复？`

## 星盘记忆与模板

- 存档模板（只读，定义字段/结构，不保存个人数据）：
  - `user_chart_profile.md`（位于 skill 目录内）

- 用户星盘持久化档案（唯一持久化文件）：
  - `{baseDir}/user_chart_profile.json`

当宿主支持 workspace 持久化且允许写入（workspaceAccess=rw）时，会自动创建并复用该 JSON。
若环境为只读或不支持持久化，则仅在当前会话内临时使用用户提供的星盘。

## 备注

你偏好 `gemini-3-pro-preview` 已写入技能偏好提示；
如果宿主支持模型路由，会优先选用该模型。