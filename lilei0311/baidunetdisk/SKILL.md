# ç™¾åº¦ç½‘ç›˜ Skill

## ç®€ä»‹

ç”¨äº OpenClaw çš„ç™¾åº¦ç½‘ç›˜æ“ä½œ Skillï¼Œæ”¯æŒå®Œæ•´çš„æ–‡ä»¶ç®¡ç†åŠŸèƒ½ï¼šæ–‡ä»¶åˆ—è¡¨æŸ¥çœ‹ã€æœç´¢ã€åˆ†äº«é“¾æ¥æå–ã€è½¬å­˜ã€ç›®å½•åˆ›å»ºã€æ–‡ä»¶å¢åˆ æ”¹æŸ¥ç­‰ã€‚

## âš ï¸ å®‰å…¨è­¦å‘Š

**é‡è¦æç¤º**ï¼š
- æœ¬ Skill éœ€è¦æ‚¨çš„ç™¾åº¦ç½‘ç›˜ç™»å½•å‡­è¯ï¼ˆBDUSS å’Œ STOKENï¼‰ï¼Œè¿™äº›å‡­è¯å…·æœ‰å®Œå…¨è®¿é—®æ‚¨ç½‘ç›˜è´¦æˆ·çš„æƒé™
- è¯·ä»…åœ¨å—ä¿¡ä»»çš„ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸è¦åœ¨å…¬å…±è®¾å¤‡æˆ–å…±äº«ç¯å¢ƒä¸­é…ç½®
- å»ºè®®åˆ›å»ºä¸“é—¨çš„æµ‹è¯•è´¦å·ä½¿ç”¨æœ¬ Skillï¼Œé¿å…ä½¿ç”¨ä¸»è´¦å·
- å‡­è¯å­˜å‚¨åœ¨æœ¬åœ° `config.json` æ–‡ä»¶ä¸­ï¼Œè¯·ç¡®ä¿æ–‡ä»¶æƒé™å®‰å…¨
- **åˆ é™¤æ“ä½œä¸å¯æ¢å¤**ï¼Œè¯·è°¨æ…ä½¿ç”¨

## åŠŸèƒ½ç‰¹æ€§

### æŸ¥è¯¢æ“ä½œï¼ˆç¨³å®šï¼‰
- ğŸ“ **æ–‡ä»¶åˆ—è¡¨** - æŸ¥çœ‹ç½‘ç›˜æŒ‡å®šç›®å½•çš„æ–‡ä»¶åˆ—è¡¨
- ğŸ” **æ–‡ä»¶æœç´¢** - åœ¨ç½‘ç›˜ä¸­æœç´¢æ–‡ä»¶
- ğŸ”— **åˆ†äº«æå–** - æå–ç™¾åº¦ç½‘ç›˜åˆ†äº«é“¾æ¥çš„æ–‡ä»¶åˆ—è¡¨

### æ–‡ä»¶æ“ä½œï¼ˆç¨³å®šï¼‰
- ğŸ’¾ **ä¸€é”®è½¬å­˜** - å°†åˆ†äº«çš„æ–‡ä»¶è½¬å­˜åˆ°è‡ªå·±çš„ç½‘ç›˜
- ğŸ“‚ **åˆ›å»ºç›®å½•** - åœ¨ç½‘ç›˜ä¸­åˆ›å»ºæ–°ç›®å½•

### æ–‡ä»¶ç®¡ç†ï¼ˆéœ€è¦ bdstokenï¼‰
- âœï¸ **é‡å‘½å** - é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•
- ğŸ”„ **ç§»åŠ¨** - ç§»åŠ¨æ–‡ä»¶åˆ°ä¸åŒç›®å½•
- ğŸ—‘ï¸ **åˆ é™¤** - åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰

## æŠ€æœ¯è¯´æ˜

### API å®ç°
- **æŸ¥è¯¢å’Œè½¬å­˜åŠŸèƒ½**ï¼šä½¿ç”¨ç™¾åº¦ç½‘ç›˜ REST APIï¼ˆ`rest/2.0/xpan`ï¼‰
- **æ–‡ä»¶ç®¡ç†åŠŸèƒ½**ï¼šä½¿ç”¨ç™¾åº¦ç½‘ç›˜ filemanager APIï¼ˆ`/api/filemanager`ï¼‰
- **bdstoken**ï¼šæ–‡ä»¶ç®¡ç†æ“ä½œéœ€è¦é¢å¤–çš„ bdstokenï¼ŒSkill ä¼šè‡ªåŠ¨è·å–

### è®¤è¯æµç¨‹
1. ä½¿ç”¨ BDUSS å’Œ STOKEN è¿›è¡Œèº«ä»½è®¤è¯
2. è‡ªåŠ¨è·å– bdstoken ç”¨äºæ–‡ä»¶ç®¡ç†æ“ä½œ
3. æ‰€æœ‰ API è°ƒç”¨ä½¿ç”¨ HTTPS åŠ å¯†

## å®‰è£…

### 1. å®‰è£…ä¾èµ–

```bash
pip install requests
```

### 2. é…ç½® Skill

åœ¨ `config.json` ä¸­é…ç½®ç™¾åº¦ç½‘ç›˜ç™»å½•å‡­è¯ï¼š

```json
{
  "bduss": "your_bduss_here",
  "stoken": "your_stoken_here",
  "default_save_path": "~/Downloads/BaiduNetdisk"
}
```

**æˆ–è€…ä½¿ç”¨ç¯å¢ƒå˜é‡**ï¼ˆæ›´å®‰å…¨ï¼‰ï¼š
```bash
export BAIDU_BDUSS="your_bduss_here"
export BAIDU_STOKEN="your_stoken_here"
```

### 3. è·å– BDUSS å’Œ STOKEN

1. ç™»å½•ç™¾åº¦ç½‘ç›˜ç½‘é¡µç‰ˆ (https://pan.baidu.com)
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° Application/åº”ç”¨ æ ‡ç­¾
4. æ‰¾åˆ° Cookies -> https://pan.baidu.com
5. å¤åˆ¶ `BDUSS` å’Œ `STOKEN` çš„å€¼

**æ³¨æ„**ï¼šBDUSS å’Œ STOKEN æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ³„éœ²ç»™ä»–äººã€‚

## ä½¿ç”¨æ–¹æ³•

### åˆ—å‡ºæ–‡ä»¶

```bash
# åˆ—å‡ºæ ¹ç›®å½•æ–‡ä»¶
python scripts/main.py list

# åˆ—å‡ºæŒ‡å®šç›®å½•
python scripts/main.py list path=/æˆ‘çš„èµ„æº

# æŒ‰æ–‡ä»¶åæ’åº
python scripts/main.py list path=/æˆ‘çš„èµ„æº order=name
```

### æœç´¢æ–‡ä»¶

```bash
# æœç´¢æ–‡ä»¶ååŒ…å«"ç”µå½±"çš„æ–‡ä»¶
python scripts/main.py search keyword=ç”µå½±

# åœ¨æŒ‡å®šè·¯å¾„ä¸‹æœç´¢
python scripts/main.py search keyword=ç”µå½± path=/æˆ‘çš„èµ„æº
```

### æå–åˆ†äº«é“¾æ¥

```bash
# æå–æ— å¯†ç çš„åˆ†äº«é“¾æ¥
python scripts/main.py extract share_url=https://pan.baidu.com/s/1xxxxx

# æå–æœ‰å¯†ç çš„åˆ†äº«é“¾æ¥
python scripts/main.py extract share_url=https://pan.baidu.com/s/1xxxxx extract_code=abcd
```

### è½¬å­˜åˆ†äº«æ–‡ä»¶

```bash
# è½¬å­˜åˆ°é»˜è®¤è·¯å¾„
python scripts/main.py transfer share_url=https://pan.baidu.com/s/1xxxxx

# è½¬å­˜åˆ°æŒ‡å®šè·¯å¾„
python scripts/main.py transfer share_url=https://pan.baidu.com/s/1xxxxx save_path=/æˆ‘çš„èµ„æº/ç”µå½±

# å¸¦æå–ç è½¬å­˜
python scripts/main.py transfer share_url=https://pan.baidu.com/s/1xxxxx extract_code=abcd save_path=/æˆ‘çš„èµ„æº
```

### åˆ›å»ºç›®å½•

```bash
# åˆ›å»ºæ–°ç›®å½•
python scripts/main.py mkdir path=/æ–°ç›®å½•å
```

### æ–‡ä»¶ç®¡ç†

```bash
# é‡å‘½åæ–‡ä»¶/ç›®å½•
python scripts/main.py rename path=/åŸæ–‡ä»¶å new_name=æ–°æ–‡ä»¶å

# ç§»åŠ¨æ–‡ä»¶
python scripts/main.py move path=/åŸè·¯å¾„ dest=/ç›®æ ‡è·¯å¾„

# åˆ é™¤æ–‡ä»¶/ç›®å½•ï¼ˆä¸å¯æ¢å¤ï¼Œè¯·è°¨æ…ä½¿ç”¨ï¼‰
python scripts/main.py delete path=/è¦åˆ é™¤çš„è·¯å¾„
```

## åœ¨ OpenClaw ä¸­ä½¿ç”¨

### é…ç½® Agent ä½¿ç”¨è¯¥ Skill

åœ¨ Agent é…ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "skills": ["baidunetdisk"]
}
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
# è®© Agent åˆ—å‡ºç½‘ç›˜æ–‡ä»¶
openclaw agent --message "æŸ¥çœ‹æˆ‘çš„ç™¾åº¦ç½‘ç›˜æ ¹ç›®å½•æœ‰ä»€ä¹ˆæ–‡ä»¶"

# æœç´¢æ–‡ä»¶
openclaw agent --message "åœ¨æˆ‘çš„ç™¾åº¦ç½‘ç›˜æœç´¢æ‰€æœ‰PDFæ–‡ä»¶"

# è½¬å­˜åˆ†äº«é“¾æ¥
openclaw agent --message "æŠŠè¿™ä¸ªç™¾åº¦ç½‘ç›˜åˆ†äº«é“¾æ¥è½¬å­˜åˆ°æˆ‘çš„ç½‘ç›˜: https://pan.baidu.com/s/1xxxxx æå–ç : abcd"

# åˆ›å»ºç›®å½•
openclaw agent --message "åœ¨ç™¾åº¦ç½‘ç›˜åˆ›å»ºä¸€ä¸ªåä¸º'å·¥ä½œæ–‡æ¡£'çš„ç›®å½•"

# é‡å‘½åæ–‡ä»¶
openclaw agent --message "æŠŠç™¾åº¦ç½‘ç›˜é‡Œçš„'æ—§æ–‡ä»¶å.txt'é‡å‘½åä¸º'æ–°æ–‡ä»¶å.txt'"

# åˆ é™¤æ–‡ä»¶ï¼ˆè°¨æ…ï¼‰
openclaw agent --message "åˆ é™¤ç™¾åº¦ç½‘ç›˜é‡Œçš„'/æµ‹è¯•/ä¸´æ—¶æ–‡ä»¶.txt'"
```

## æ³¨æ„äº‹é¡¹

1. **ç™»å½•çŠ¶æ€**ï¼šBDUSS å’Œ STOKEN æœ‰è¿‡æœŸæ—¶é—´ï¼Œå¦‚é‡åˆ°æƒé™é”™è¯¯è¯·é‡æ–°è·å–
2. **é¢‘ç‡é™åˆ¶**ï¼šç™¾åº¦ç½‘ç›˜ API æœ‰è®¿é—®é¢‘ç‡é™åˆ¶ï¼Œè¯·åˆç†ä½¿ç”¨
3. **éšç§å®‰å…¨**ï¼šä¸è¦åœ¨å…¬å…±åœºåˆæˆ–å…±äº«ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œé¿å…å‡­è¯æ³„éœ²
4. **bdstoken**ï¼šæ–‡ä»¶ç®¡ç†æ“ä½œï¼ˆé‡å‘½å/ç§»åŠ¨/åˆ é™¤ï¼‰éœ€è¦ bdstokenï¼ŒSkill ä¼šè‡ªåŠ¨è·å–
5. **æ•°æ®å®‰å…¨**ï¼šåˆ é™¤æ“ä½œä¸å¯æ¢å¤ï¼Œè¯·è°¨æ…ä½¿ç”¨

## æ•…éšœæ’é™¤

### é”™è¯¯ç  -6
è¡¨ç¤ºç™»å½•å‡­è¯æ— æ•ˆæˆ–è¿‡æœŸï¼Œè¯·é‡æ–°è·å– BDUSS å’Œ STOKEN

### é”™è¯¯ç  2
å‚æ•°é”™è¯¯æˆ–æƒé™ä¸è¶³ï¼Œè¯·æ£€æŸ¥ï¼š
- æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- æ˜¯å¦æœ‰æ“ä½œè¯¥æ–‡ä»¶çš„æƒé™
- bdstoken æ˜¯å¦æˆåŠŸè·å–

### é”™è¯¯ç  9019
API è°ƒç”¨å—é™ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åå†è¯•

### æ— æ³•è·å– bdstoken
- æ£€æŸ¥ BDUSS å’Œ STOKEN æ˜¯å¦æœ‰æ•ˆ
- å°è¯•é‡æ–°ç™»å½•ç™¾åº¦ç½‘ç›˜è·å–æ–°çš„å‡­è¯
- æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

## ç‰ˆæœ¬ä¿¡æ¯

- **ç‰ˆæœ¬**: 1.0.2
- **ä½œè€…**: MaxStorm Team
- **è®¸å¯è¯**: MIT
- **æºç **: https://github.com/maxstorm/baidunetdisk-skill
